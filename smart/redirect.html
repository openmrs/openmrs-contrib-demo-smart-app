<html>
     <head>
        <script src="https://cdn.jsdelivr.net/npm/fhirclient@2.3.1/build/fhir-client.min.js"></script>
        <script>
        FHIR.oauth2.ready(onReady, onError);
        
        function onReady(smart) {
            if (smart.hasOwnProperty('patient')) {
                
                var patientPromise = smart.patient.read();
                var encounterPromise = smart.encounter.read();
                var patient = Promise.resolve(patientPromise);
                patient.then((results)=>{
                    console.log(results);

                }, ()=>{
                    console.log("failed");
                })

                var encounter = Promise.resolve(encounterPromise);
                encounter.then((result)=>{
                    console.log(result);
                }, ()=>{

                })
            }
        }

        function onError() {
            console.error
        }
        </script>
    </head>
    <body>Loading the encounter...</body
</html>
